<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>week 10: Radical equations | Harsh's blog</title>

                <link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">

                <link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">

      <link rel="canonical" href="https://hargup.github.io/posts/week-10.html">



    
        <!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->

    

    
    <meta name="author" content="Harsh Gupta">
            <meta name="og:title" content="week 10: Radical equations">
        <meta name="og:url" content="https://hargup.github.io/posts/week-10.html">
            <meta name="og:description" content="This week I worked on the solvers for the equations with radicals.
Suppose you have to solve
$$ \sqrt{x} + x - 2 = 0 $$.
then you have to move the radical to the right hand side of the equation.
$$ x ">
        <meta name="og:site_name" content="Harsh's blog">
        <meta name="og:type" content="article">

    
    

</head>
<body>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://hargup.github.io/">

                <span id="blog-title">Harsh's blog</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                                <li>
<a href="../archive.html">Archives</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS</a>

                
            </li>
</ul>

            <ul class="nav navbar-nav navbar-right">
    <li>
    <a href="week-10.md" id="sourcelink">Source</a>
    </li>
                
            </ul>
        </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article">
        <header>
            <h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">week 10: Radical equations</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Harsh Gupta</span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2014-07-29T17:39:01+05:30" itemprop="datePublished" title="Publication date">2014-07-29 17:39</time></a></p>
                <p class="commentline">            <a href="week-10.html#disqus_thread" data-disqus-identifier="cache/posts/week-10.html">Comments</a>


        </p>
</div>
        
    </header>

    <div class="e-content entry-content" itemprop="articleBody text">
    <p>This week I worked on the solvers for the equations with radicals.
Suppose you have to solve</p>
<p>$$ \sqrt{x} + x - 2 = 0 $$.</p>
<p>then you have to move the radical to the right hand side of the equation.</p>
<p>$$ x - 2 = - \sqrt{x} $$</p>
<p>and then square at both sides</p>
<p>$$ x^2 - 4x + 4 = x $$</p>
<p>Now the equation is a polynomial in \( x \) can be solved with usual
polynomial solving methods. Note that squaring both sides produce some extra
solutions and we will have to check all the solutions obtained against the
original equation.  If there are more than one radicals involved we may
have to apply the method recursively. For example in solving
\( \sqrt{2x + 9} - \sqrt{x + 1} - \sqrt{x + 4} = 0 \)
the method will recurse twice.</p>
<p>To implement the method I tried a pattern matching approach.
The
squaring part is easy the tricky part is identifying which part to move to
the right hand side. First I tried to match the expression with the form
<code>sqrt(p) + q</code> but it failed even for case like <code>4*sqrt(x) + x - 2</code> because no
pattern matched to it. I had to use <code>a*sqrt(p) + q</code> with the condition that the
expression matched to a shouldn't be zero. Now I can simply move the expression
matched with <code>p</code> and terms multiplicated with it to the RHS and square both
the sides.</p>
<p>Notice that this method for solving sqrt equation can work with any radical
equation, if it were cube root instead of sqrt I just had to cube both the
sides. OK so how do I mathch that expression? I tried to pattern matching with
assumptions on the wild symbols but it doesn't work.  I tried to match with
somthing like <code>a*p**Rational(1, m) + q</code> but this also didn't work out because
Rational(1, m) raises TypeError no matter what the assumption on the variable
are.  There is a proposal for a new pattern matcher, I have not closely checked
the details but it will be able to work with assumption. You can see the
proposal on the wiki
<a href="https://github.com/sympy/sympy/wiki/Proposal-for-a-new-pattern-matching">here</a>
and if it is implemented then things will be good but I can't wait for it.
I had no other option to check term by term for rational power. Here's the
implementation</p>
<pre class="code literal-block"><span class="n">def</span> <span class="n">_has_rational_power</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span><span class="o">:</span>
    <span class="n">a</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">Wild</span><span class="p">(</span><span class="sc">'a'</span><span class="p">),</span> <span class="n">Wild</span><span class="p">(</span><span class="sc">'p'</span><span class="p">),</span> <span class="n">Wild</span><span class="p">(</span><span class="sc">'q'</span><span class="p">)</span>
    <span class="n">pattern_match</span> <span class="o">=</span> <span class="n">expr</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">p</span><span class="o">**</span><span class="n">q</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">pattern_match</span> <span class="n">is</span> <span class="n">None</span> <span class="n">or</span> <span class="n">pattern_match</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="n">is</span> <span class="n">S</span><span class="p">.</span><span class="n">Zero</span><span class="o">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">False</span><span class="p">,</span> <span class="n">None</span><span class="p">)</span>
    <span class="n">elif</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">pattern_match</span><span class="p">[</span><span class="n">q</span><span class="p">],</span> <span class="n">Rational</span><span class="p">)</span><span class="o">:</span>
        <span class="k">if</span> <span class="n">not</span> <span class="n">pattern_match</span><span class="p">[</span><span class="n">q</span><span class="p">].</span><span class="n">q</span> <span class="o">==</span> <span class="n">S</span><span class="p">.</span><span class="n">One</span><span class="o">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">True</span><span class="p">,</span> <span class="n">pattern_match</span><span class="p">[</span><span class="n">q</span><span class="p">].</span><span class="n">q</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">not</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">pattern_match</span><span class="p">[</span><span class="n">a</span><span class="p">],</span> <span class="n">Pow</span><span class="p">)</span> <span class="n">or</span> <span class="n">isinstance</span><span class="p">(</span><span class="n">pattern_match</span><span class="p">[</span><span class="n">a</span><span class="p">],</span> <span class="n">Mul</span><span class="p">)</span><span class="o">:</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">False</span><span class="p">,</span> <span class="n">None</span><span class="p">)</span>
    <span class="nl">else:</span>
        <span class="k">return</span> <span class="n">_has_rational_power</span><span class="p">(</span><span class="n">pattern_match</span><span class="p">[</span><span class="n">a</span><span class="p">])</span>
</pre>
    </div>
    <aside class="postpromonav">
    <nav>
            <ul itemprop="keywords" class="tags">
           <li><a class="tag p-category" href="../categories/sympy.html" rel="tag">sympy</a></li>
        </ul>

            <ul class="pager">
            <li class="previous">
                <a href="week-9.html" rel="prev" title="week 9">Previous post</a>
            </li>
            <li class="next">
                <a href="week-11.html" rel="next" title="Week 11 and Week 12: Wrapping up the project">Next post</a>
            </li>
        </ul>

    </nav>
    </aside>
        <section class="comments">
        <h2>Comments</h2>
                        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="hargup",
            disqus_url="https://hargup.github.io/posts/week-10.html",
        disqus_title="week 10: Radical equations",
        disqus_identifier="cache/posts/week-10.html",
        disqus_config = function () {
            this.language = "";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="//disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section>
</article>
               <script>var disqus_shortname="hargup";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


        </div>
        <!--End of body content-->

        <footer>
            Contents © 2014         <a href="mailto:gupta.harsh96@gmail.com">Harsh Gupta</a> - Powered by NIKOLA <a href="#" rel="nofollow"></a>         
            
        </footer>
    </div>
</div>

            <script src="../assets/js/all-nocdn.js"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>


</body>
</html>
